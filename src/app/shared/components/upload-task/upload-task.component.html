<div *ngIf="percentage | async as pct" class="mb-2 d-flex align-items-center">
  <mat-progress-bar mode="determinate" value="pct" class="flex-grow-1"></mat-progress-bar>
  {{ pct }}%
</div>
<div *ngIf="snapshot | async as snap" class="d-flex justify-content-around mb-3">
  <button mat-flat-button (click)="task.pause()" [disabled]="!isActive(snap)">Pause</button>
  <button mat-flat-button (click)="task.cancel()" [disabled]="!isActive(snap)">Cancel</button>
  <button mat-flat-button (click)="task.resume()" [disabled]="!(snap?.state === 'paused')">Resume</button>
</div>